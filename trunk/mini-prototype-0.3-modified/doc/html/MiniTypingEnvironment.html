<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="MiniKindInferencer.html">
<link rel="next" href="MiniTypes.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="PrettyPrinter" rel="Chapter" href="PrettyPrinter.html">
<link title="InfiniteArray" rel="Chapter" href="InfiniteArray.html">
<link title="Misc" rel="Chapter" href="Misc.html">
<link title="Env" rel="Chapter" href="Env.html">
<link title="Positions" rel="Chapter" href="Positions.html">
<link title="Mark" rel="Chapter" href="Mark.html">
<link title="UnionFind" rel="Chapter" href="UnionFind.html">
<link title="AstPositions" rel="Chapter" href="AstPositions.html">
<link title="Processing" rel="Chapter" href="Processing.html">
<link title="ParsingExceptions" rel="Chapter" href="ParsingExceptions.html">
<link title="BasicSetEquations" rel="Chapter" href="BasicSetEquations.html">
<link title="IntRank" rel="Chapter" href="IntRank.html">
<link title="CoreAlgebra" rel="Chapter" href="CoreAlgebra.html">
<link title="MultiEquation" rel="Chapter" href="MultiEquation.html">
<link title="Unifier" rel="Chapter" href="Unifier.html">
<link title="Constraint" rel="Chapter" href="Constraint.html">
<link title="Solver" rel="Chapter" href="Solver.html">
<link title="MiniAst" rel="Chapter" href="MiniAst.html">
<link title="MiniAlgebra" rel="Chapter" href="MiniAlgebra.html">
<link title="Print" rel="Chapter" href="Print.html">
<link title="ConstraintPrettyPrinter" rel="Chapter" href="ConstraintPrettyPrinter.html">
<link title="MiniTypingExceptions" rel="Chapter" href="MiniTypingExceptions.html">
<link title="MiniPrettyPrinter" rel="Chapter" href="MiniPrettyPrinter.html">
<link title="MiniKindInferencer" rel="Chapter" href="MiniKindInferencer.html">
<link title="MiniTypingEnvironment" rel="Chapter" href="MiniTypingEnvironment.html">
<link title="MiniTypes" rel="Chapter" href="MiniTypes.html">
<link title="MiniInfer" rel="Chapter" href="MiniInfer.html">
<link title="MiniSyntacticAnalysis" rel="Chapter" href="MiniSyntacticAnalysis.html">
<link title="MiniConstraintPrinter" rel="Chapter" href="MiniConstraintPrinter.html">
<link title="MiniSolver" rel="Chapter" href="MiniSolver.html">
<link title="Errors" rel="Chapter" href="Errors.html"><title>MiniTypingEnvironment</title>
</head>
<body>
<div class="navbar"><a href="MiniKindInferencer.html">Previous</a>
&nbsp;<a href="index.html">Up</a>
&nbsp;<a href="MiniTypes.html">Next</a>
</div>
<center><h1>Module <a href="type_MiniTypingEnvironment.html">MiniTypingEnvironment</a> (<a href="code_MiniTypingEnvironment.html">.ml</a>)</h1></center>
<br>
<pre><span class="keyword">module</span> MiniTypingEnvironment: <code class="code"><span class="keyword">sig</span></code> <a href="MiniTypingEnvironment.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><code class="code"><span class="constructor">TypingEnvironment</span></code> implements two mappings used during the constraint
    generation. 
    The first one associates a kind, a flexible variable and an optional
    list of data constructor to a type name.
    The second one records the scheme of the data constructors.<br>
<hr width="100%">
<pre><span class="keyword">type</span> <a name="TYPEalgebraic_datatype"></a><code class="type"></code>algebraic_datatype = <code class="type">(<a href="MiniAst.html#TYPEdname">MiniAst.dname</a> * <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a>) list</code> </pre>
<div class="info">
An algebraic datatype is characterized by a list of data constructors.<br>
</div>

<pre><span class="keyword">type</span> <a name="TYPEtype_info"></a><code class="type"></code>type_info = <code class="type"><a href="MiniKindInferencer.html#TYPEt">MiniKindInferencer.t</a> * <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> *<br>       <a href="MiniTypingEnvironment.html#TYPEalgebraic_datatype">algebraic_datatype</a> option Pervasives.ref</code> </pre>
<div class="info">
A type is characterized by a kind, a variable and an optional set of
    algebraic data constructors.<br>
</div>

<pre><span class="keyword">type</span> <a name="TYPEdata_constructor"></a><code class="type"></code>data_constructor = <code class="type">int * <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> list * <a href="MultiEquation.html#TYPEcrterm">MultiEquation.crterm</a></code> </pre>
<div class="info">
A data constructor's type is denoted by an ML scheme.<br>
</div>

<pre><span class="keyword">type</span> <a name="TYPEenvironment"></a><code class="type"></code>environment </pre>
<div class="info">
The type of the typing environement.<br>
</div>

<pre><span class="keyword">val</span> <a name="VALempty_environment"></a><a href="code_VALMiniTypingEnvironment.empty_environment.html">empty_environment</a> : <code class="type"><a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a></code></pre><div class="info">
The empty environment.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALfold_type_info"></a><a href="code_VALMiniTypingEnvironment.fold_type_info.html">fold_type_info</a> : <code class="type">('a -> <a href="MiniAst.html#TYPEtname">MiniAst.tname</a> * <a href="MiniTypingEnvironment.html#TYPEtype_info">type_info</a> -> 'a) -><br>       'a -> <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -> 'a</code></pre><div class="info">
<code class="code">fold_type_info</code> folds over the environment focusing on type's
    information.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALadd_type_variables"></a><a href="code_VALMiniTypingEnvironment.add_type_variables.html">add_type_variables</a> : <code class="type">(<a href="MiniAst.html#TYPEtname">MiniAst.tname</a> * <a href="MiniTypingEnvironment.html#TYPEtype_info">type_info</a>) list -><br>       <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -> <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a></code></pre><div class="info">
Add a set of type variables into the environment, associating a
    name to each.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALadd_type_constructor"></a><a href="code_VALMiniTypingEnvironment.add_type_constructor.html">add_type_constructor</a> : <code class="type"><a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MiniAst.html#TYPEtname">MiniAst.tname</a> -><br>       <a href="MiniTypingEnvironment.html#TYPEtype_info">type_info</a> -> <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a></code></pre><div class="info">
Add a type constructor into the environment.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALadd_data_constructor"></a><a href="code_VALMiniTypingEnvironment.add_data_constructor.html">add_data_constructor</a> : <code class="type"><a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MiniAst.html#TYPEdname">MiniAst.dname</a> -><br>       <a href="MiniTypingEnvironment.html#TYPEdata_constructor">data_constructor</a> -> <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a></code></pre><div class="info">
Add a data constructor into the environment.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALis_regular_datacon_scheme"></a><a href="code_VALMiniTypingEnvironment.is_regular_datacon_scheme.html">is_regular_datacon_scheme</a> : <code class="type"><a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> list -> <a href="MultiEquation.html#TYPEcrterm">MultiEquation.crterm</a> -> bool</code></pre><div class="info">
<code class="code">is_regular_datacon_scheme env vs ty</code> checks that forall vs.ty is 
    a valid scheme for a data constructor that is to say following the
    shape:
    K :: forall a1 .. an. tau_1 -&gt; ... -&gt; tau_n -&gt; eps a1 ... an<br>
</div>
<pre><span class="keyword">val</span> <a name="VALlookup_datacon"></a><a href="code_VALMiniTypingEnvironment.lookup_datacon.html">lookup_datacon</a> : <code class="type">?pos:<a href="Positions.html#TYPEposition">Positions.position</a> -><br>       <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MiniAst.html#TYPEdname">MiniAst.dname</a> -> <a href="MiniTypingEnvironment.html#TYPEdata_constructor">data_constructor</a></code></pre><div class="info">
<code class="code">lookup_datacon env k</code> gives access to the typing information
    related to the data constructor <code class="code">k</code> in <code class="code">env</code>.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALlookup_type_variable"></a><a href="code_VALMiniTypingEnvironment.lookup_type_variable.html">lookup_type_variable</a> : <code class="type">?pos:<a href="Positions.html#TYPEposition">Positions.position</a> -><br>       <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MiniAst.html#TYPEtname">MiniAst.tname</a> -> <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> <a href="CoreAlgebra.html#TYPEarterm">CoreAlgebra.arterm</a></code></pre><div class="info">
Looks for a type constructor given its name.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALtypcon_kind"></a><a href="code_VALMiniTypingEnvironment.typcon_kind.html">typcon_kind</a> : <code class="type"><a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -> <a href="MiniAst.html#TYPEtname">MiniAst.tname</a> -> <a href="MiniKindInferencer.html#TYPEt">MiniKindInferencer.t</a></code></pre><div class="info">
Accessor to the kind of a type.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALtypcon_variable"></a><a href="code_VALMiniTypingEnvironment.typcon_variable.html">typcon_variable</a> : <code class="type"><a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MiniAst.html#TYPEtname">MiniAst.tname</a> -> <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> <a href="CoreAlgebra.html#TYPEarterm">CoreAlgebra.arterm</a></code></pre><div class="info">
Accessor the unification variable of a type.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALas_fun"></a><a href="code_VALMiniTypingEnvironment.as_fun.html">as_fun</a> : <code class="type"><a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MiniAst.html#TYPEtname">MiniAst.tname</a> -> <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> <a href="CoreAlgebra.html#TYPEarterm">CoreAlgebra.arterm</a></code></pre><div class="info">
<code class="code">as_fun env</code> provides a view of <code class="code">env</code> as function from names to
    variable. This is used to abstract the environment when it is 
    given to the <a href="MiniAlgebra.html"><code class="code"><span class="constructor">MiniAlgebra</span></code></a> module 
    (see <a href="MiniAlgebra.html#VALtype_of_primitive"><code class="code"><span class="constructor">MiniAlgebra</span>.type_of_primitive</code></a> for instance).<br>
</div>
<pre><span class="keyword">val</span> <a name="VALas_kind_env"></a><a href="code_VALMiniTypingEnvironment.as_kind_env.html">as_kind_env</a> : <code class="type"><a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       (<a href="MiniAst.html#TYPEtname">MiniAst.tname</a> -> <a href="MiniKindInferencer.html#TYPEt">MiniKindInferencer.t</a>) *<br>       (<a href="MiniAst.html#TYPEtname">MiniAst.tname</a> -> <a href="MiniKindInferencer.html#TYPEt">MiniKindInferencer.t</a> -> unit)</code></pre><div class="info">
<code class="code">as_kind env</code> provides a view of <code class="code">env</code> as kind environment.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALfresh_datacon_scheme"></a><a href="code_VALMiniTypingEnvironment.fresh_datacon_scheme.html">fresh_datacon_scheme</a> : <code class="type"><a href="Positions.html#TYPEposition">Positions.position</a> -><br>       <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MiniAst.html#TYPEdname">MiniAst.dname</a> -> <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> list * <a href="MultiEquation.html#TYPEcrterm">MultiEquation.crterm</a></code></pre><div class="info">
<code class="code">fresh_datacon_scheme env dname vs</code> retrieves the type scheme
    of <code class="code">dname</code> in <code class="code">env</code> and alpha convert it using <code class="code">vs</code> as a set
    of names to use preferentially when printing.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALfresh_flexible_vars"></a><a href="code_VALMiniTypingEnvironment.fresh_flexible_vars.html">fresh_flexible_vars</a> : <code class="type"><a href="Positions.html#TYPEposition">Positions.position</a> -><br>       <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MiniAst.html#TYPEtname">MiniAst.tname</a> list -><br>       <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> list *<br>       (<a href="MiniAst.html#TYPEtname">MiniAst.tname</a> * <a href="MiniTypingEnvironment.html#TYPEtype_info">type_info</a>) list</code></pre><div class="info">
<code class="code">fresh_flexible_vars pos env vs</code> returns a list of fresh flexible 
    variables whose visible names are <code class="code">vs</code> and an environment fragment.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALfresh_rigid_vars"></a><a href="code_VALMiniTypingEnvironment.fresh_rigid_vars.html">fresh_rigid_vars</a> : <code class="type"><a href="Positions.html#TYPEposition">Positions.position</a> -><br>       <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       <a href="MiniAst.html#TYPEtname">MiniAst.tname</a> list -><br>       <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> list *<br>       (<a href="MiniAst.html#TYPEtname">MiniAst.tname</a> * <a href="MiniTypingEnvironment.html#TYPEtype_info">type_info</a>) list</code></pre><div class="info">
<code class="code">fresh_flexible_vars pos env vs</code> returns a list of fresh rigid 
    variables whose visible names are <code class="code">vs</code> and an environment fragment.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALfresh_unnamed_rigid_vars"></a><a href="code_VALMiniTypingEnvironment.fresh_unnamed_rigid_vars.html">fresh_unnamed_rigid_vars</a> : <code class="type"><a href="Positions.html#TYPEposition">Positions.position</a> -><br>       <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -><br>       'a list -><br>       <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a> list * ('a * <a href="MiniTypingEnvironment.html#TYPEtype_info">type_info</a>) list</code></pre><div class="info">
<code class="code">fresh_flexible_vars pos env</code> returns a list of fresh rigid 
    variables without visible names and an environment fragment.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALadd_type_and_kind_variables"></a><a href="code_VALMiniTypingEnvironment.add_type_and_kind_variables.html">add_type_and_kind_variables</a> : <code class="type">(<a href="MiniAst.html#TYPEtname">MiniAst.tname</a> * <a href="MultiEquation.html#TYPEvariable">MultiEquation.variable</a>) list -><br>       <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a> -> <a href="MiniTypingEnvironment.html#TYPEenvironment">environment</a></code></pre><div class="info">
Merge a environment fragment with an environment.<br>
</div>
</body></html>